{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documents\\\\Classes\\\\SimpleSchedule\\\\employee\\\\src\\\\pages\\\\LoginPage.js\";\nimport React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport logo from './../images/Slogo.png';\nimport Axios from 'axios';\n\nconst Login = props => {\n  const {\n    newJwtNotify\n  } = props;\n  const [userid, setUserId] = useState('unclefifi');\n  const [password, setPassword] = useState('password');\n  const [errors, setErrors] = useState([]);\n  const [isRedirectingHome, setToHome] = useState(false);\n\n  const changeField = (fieldName, eventDetails) => {\n    if (eventDetails && eventDetails.target && typeof eventDetails.target.value === \"string\") {\n      const value = eventDetails.target.value;\n\n      if (fieldName === 'userId') {\n        setUserId(value);\n      } else if (fieldName === 'password') {\n        setPassword(value);\n      }\n    }\n  };\n\n  const logInApiRequest = () => {\n    Axios.post('/api/users/authenticate', {\n      userid,\n      password\n    }).then(apiResponse => {\n      const jwt = apiResponse.data;\n      newJwtNotify(jwt);\n      setToHome(true);\n    }).catch(apiError => {\n      // errors is an array of { msg: string }\n      if (apiError && apiError.response && apiError.response.data && apiError.response.data.errors) {\n        setErrors(apiError.response.data.errors.map(x => x.msg));\n      }\n    });\n  };\n\n  const _errorsBuild = () => errors.map((e, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: e,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 52\n    }\n  }, i + 1, \".) \", e));\n\n  const buildForm = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexbox-wrapper flexbox-item vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexbox-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"loginLogo\",\n    src: logo,\n    alt: \"Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexbox-centered flexbox-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexbox-wrapper login vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"flexbox-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"flexbox-item\",\n    for: \"userid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 37\n    }\n  }, \"Employee ID\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"flexbox-item\",\n    type: \"text\",\n    id: \"userid\",\n    placeholder: \"loginID\",\n    value: userid,\n    onChange: e => changeField('userId', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"flexbox-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"flexbox-item\",\n    for: \"pw\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 37\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"flexbox-item\",\n    type: \"text\",\n    id: \"pw\",\n    placeholder: \"password\",\n    value: password,\n    onChange: e => changeField('password', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logInApiRequest,\n    id: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  }, \"Login\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexbox-centered flexbox-item flexbox-wrapper vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, _errorsBuild()));\n\n  return isRedirectingHome ? /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 32\n    }\n  }) : buildForm();\n};\n\nexport default Login;","map":{"version":3,"sources":["D:/Documents/Classes/SimpleSchedule/employee/src/pages/LoginPage.js"],"names":["React","useState","Redirect","logo","Axios","Login","props","newJwtNotify","userid","setUserId","password","setPassword","errors","setErrors","isRedirectingHome","setToHome","changeField","fieldName","eventDetails","target","value","logInApiRequest","post","then","apiResponse","jwt","data","catch","apiError","response","map","x","msg","_errorsBuild","e","i","buildForm"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport logo from './../images/Slogo.png'\r\nimport Axios from 'axios'\r\n\r\nconst Login = (props) => {\r\n    \r\n    const { newJwtNotify } = props\r\n    const [userid, setUserId] = useState('unclefifi')\r\n    const [password, setPassword] = useState('password')\r\n    const [errors, setErrors] = useState([])\r\n    const [isRedirectingHome, setToHome] = useState(false)\r\n\r\n\r\n    const changeField = (fieldName, eventDetails) => {\r\n        if(eventDetails && eventDetails.target && typeof eventDetails.target.value === \"string\") {\r\n            const value = eventDetails.target.value\r\n            if(fieldName==='userId') {\r\n                setUserId(value)\r\n            } else if(fieldName==='password') {\r\n                setPassword(value)\r\n            }\r\n        }\r\n    }\r\n\r\n    const logInApiRequest = () => {\r\n        Axios.post('/api/users/authenticate', { userid, password }).then((apiResponse)=> {\r\n            \r\n            const jwt = apiResponse.data\r\n            newJwtNotify(jwt)\r\n            setToHome(true)\r\n\r\n        }).catch((apiError) => {\r\n\r\n            // errors is an array of { msg: string }\r\n            if(apiError && apiError.response && apiError.response.data && apiError.response.data.errors) {\r\n                setErrors(apiError.response.data.errors.map(x => x.msg))\r\n            }\r\n\r\n        })\r\n    }\r\n    \r\n    const _errorsBuild = () => errors.map((e,i) => <div key={e}>{i+1}.) {e}</div>)\r\n\r\n    const buildForm = () => <div className=\"flexbox-wrapper flexbox-item vertical\">\r\n                        \r\n                        <div className=\"flexbox-item\">\r\n                            <img id=\"loginLogo\" src={logo} alt=\"Logo\" />\r\n                        </div>\r\n\r\n                        <div className=\"flexbox-centered flexbox-wrapper\">\r\n                            <div className=\"flexbox-wrapper login vertical\">\r\n                                <h3>Login</h3>\r\n                                <span className=\"flexbox-wrapper\">\r\n                                    <label className=\"flexbox-item\" for=\"userid\">Employee ID</label>\r\n                                    <input \r\n                                        className=\"flexbox-item\"\r\n                                        type=\"text\" \r\n                                        id=\"userid\" \r\n                                        placeholder=\"loginID\"\r\n                                        value={userid}\r\n                                        onChange={(e) => changeField('userId',e)}\r\n                                    />\r\n                                </span>\r\n                                <span className=\"flexbox-wrapper\">\r\n                                    <label className=\"flexbox-item\" for=\"pw\">Password</label>\r\n                                    <input \r\n                                        className=\"flexbox-item\"\r\n                                        type=\"text\" \r\n                                        id=\"pw\" \r\n                                        placeholder=\"password\"\r\n                                        value={password}\r\n                                        onChange={(e) => changeField('password',e)}\r\n                                    />\r\n                                </span>\r\n                                <button onClick={logInApiRequest} id=\"login\">Login</button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"flexbox-centered flexbox-item flexbox-wrapper vertical\">\r\n                            {_errorsBuild()}\r\n                        </div>\r\n                    </div>\r\n\r\n    return isRedirectingHome ? <Redirect to=\"/\"/> : buildForm()\r\n\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}